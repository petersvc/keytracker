<div class='container' *ngIf='password'>
  <div class='edit-delete'>
    <div class='edit' [ngClass]="{'selected': editing}">
      <button class='editBtn' mat-button (click)='toggleEdit()'>
        <mat-icon>edit</mat-icon>
        <span>Editar</span>
      </button>
    </div>
    <div class='delete'>
      <button class='deleteBtn' mat-button (click)='deletePassword(password.id)'>
        <mat-icon>delete</mat-icon>
        <span>Deletar</span>
      </button>
    </div>
  </div>

  <div class='application'>
    <mat-icon>vpn_key</mat-icon>
    <div>
      <span>Aplicação</span>
      <input [disabled]='!editing' type='text' [value]='password.application' #application >
    </div>
    <mat-icon>star_outline</mat-icon>
  </div>

  <div class='details username'>
    <span>Usuário</span>
    <input [disabled]='!editing' type='text' [value]='password.username' #username>
  </div>

  <div class='details password focused'>
    <div>
      <span>Senha</span>
      <input [disabled]='!editing' type='text' [value]='show ? password.passphrase : "*".repeat(password.passphrase.length)' #passphrase>
    </div>
    <div>
      <button class='toggleShowButton' (click)='toggleShow()' title="Title"><mat-icon>visibility</mat-icon></button>
      <button class='copyPasswordButton' (click)='copyPassword(password.passphrase)' title="Title"><mat-icon>content_copy</mat-icon></button>
    </div>

  </div>

  <div class='details website'>
    <span>Website</span>
    <input [disabled]='!editing' type='text' [value]='password.website' #website>
  </div>

  <div class='details tags'>
    <span>Tags</span>
    <mat-chip-grid #chipGrid aria-label="Enter fruits">
      <mat-chip-row
        *ngFor="let tag of password.tags"
        [ngClass]="{'toRemove': toRemoveTags.has(tag) && editing, 'keep': !toRemoveTags.has(tag) && editing}">
        <button class='selectBtn' mat-button *ngIf='editing' [attr.aria-label]="'remove ' + tag" (click)='selectTagToRemove(tag)'>
          <mat-icon>{{ toRemoveTags.has(tag) ? 'close' : 'check' }}</mat-icon>
        </button>
        <span>{{tag}}</span>
      </mat-chip-row>
<!--      <input placeholder="Nova tag..."-->
<!--             [matChipInputFor]="chipGrid"-->
<!--             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"-->
<!--             [matChipInputAddOnBlur]="addOnBlur"-->
<!--             (matChipInputTokenEnd)="add($event)"-->
<!--      />-->
    </mat-chip-grid>
  </div>

  <div class='details notes'>
    <span>Notas Adicionais</span>
<!--    <p *ngIf='!editing'>{{password.notes}}</p>-->
<!--    [ngClass]="{'disabled': !editing}"-->
    <textarea [disabled]='!editing' #notes rows='3'>{{password.notes}}</textarea>
  </div>

  <div *ngIf='editing' class='update'>
    <button type='submit' mat-button (click)='updatePassword(
      application.value,
      username.value,
      passphrase.value === "*******" ? password.passphrase : passphrase.value,
      website.value,
      notes.value
    )'
    >
      <mat-icon>done</mat-icon>
      <span>Atualizar</span>
    </button>
  </div>

</div>


